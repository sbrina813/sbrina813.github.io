<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Sabrina&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Sabrina's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Sabrina's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sabrina's Blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Sabrina&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/avatar.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Sabrina Jiang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">可知 红颜弹指老，刹那芳华？</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/sbrina813" title="github">github</a>
					        
								<a class="mail" target="_blank" href="mailto:sabrina.jiang813@gmail.com" title="mail">mail</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/sabrinajiang" title="linkedin">linkedin</a>
					        
								<a class="Website" target="_blank" href="http://sabrinajiang.com/" title="Website">Website</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/angularjs/" style="font-size: 10px;">angularjs</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Sabrina Jiang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/img/avatar.png" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Sabrina Jiang</h1>
			</hgroup>
			
			<p class="header-subtitle">可知 红颜弹指老，刹那芳华？</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/sbrina813" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:sabrina.jiang813@gmail.com" title="mail">mail</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/sabrinajiang" title="linkedin">linkedin</a>
			        
						<a class="Website" target="_blank" href="http://sabrinajiang.com/" title="Website">Website</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-js-callbacks" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/20/js-callbacks/" class="article-date">
  	<time datetime="2016-03-20T22:13:32.000Z" itemprop="datePublished">2016-03-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html><html><head><meta charset="utf-8"><meta name="date" content="2015-09-04">
<meta name="tags" content="js"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAzUABAAAAAAFNgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABbAAAABwAAAAcZMzaOEdERUYAAAGIAAAAHQAAACAAOQAET1MvMgAAAagAAAA+AAAAYHqhde9jbWFwAAAB6AAAAFIAAAFa4azkLWN2dCAAAAI8AAAAKAAAACgFgwioZnBnbQAAAmQAAAGxAAACZVO0L6dnYXNwAAAEGAAAAAgAAAAIAAAAEGdseWYAAAQgAAAFDgAACMz7eroHaGVhZAAACTAAAAAwAAAANgWEOEloaGVhAAAJYAAAAB0AAAAkDGEGa2htdHgAAAmAAAAAEwAAADBEgAAQbG9jYQAACZQAAAAaAAAAGgsICJBtYXhwAAAJsAAAACAAAAAgASgBD25hbWUAAAnQAAACZwAABOD4no+3cG9zdAAADDgAAABsAAAAmF+yXM9wcmVwAAAMpAAAAC4AAAAusPIrFAAAAAEAAAAAyYlvMQAAAADLVHQgAAAAAM/u9uZ4nGNgZGBg4ANiCQYQYGJgBEJuIGYB8xgABMMAPgAAAHicY2Bm42OcwMDKwMLSw2LMwMDQBqGZihmiwHycoKCyqJjB4YPDh4NsDP+BfNb3DIuAFCOSEgUGRgAKDgt4AAB4nGNgYGBmgGAZBkYGEAgB8hjBfBYGCyDNxcDBwMTA9MHhQ9SHrA8H//9nYACyQyFs/sP86/kX8HtB9UIBIxsDXICRCUgwMaACRoZhDwA3fxKSAAAAAAHyAHABJQB/AIEAdAFGAOsBIwC/ALgAxACGAGYAugBNACcA/wCIeJxdUbtOW0EQ3Q0PA4HE2CA52hSzmZDGe6EFCcTVjWJkO4XlCGk3cpGLcQEfQIFEDdqvGaChpEibBiEXSHxCPiESM2uIojQ7O7NzzpkzS8qRqnfpa89T5ySQwt0GzTb9Tki1swD3pOvrjYy0gwdabGb0ynX7/gsGm9GUO2oA5T1vKQ8ZTTuBWrSn/tH8Cob7/B/zOxi0NNP01DoJ6SEE5ptxS4PvGc26yw/6gtXhYjAwpJim4i4/plL+tzTnasuwtZHRvIMzEfnJNEBTa20Emv7UIdXzcRRLkMumsTaYmLL+JBPBhcl0VVO1zPjawV2ys+hggyrNgQfYw1Z5DB4ODyYU0rckyiwNEfZiq8QIEZMcCjnl3Mn+pED5SBLGvElKO+OGtQbGkdfAoDZPs/88m01tbx3C+FkcwXe/GUs6+MiG2hgRYjtiKYAJREJGVfmGGs+9LAbkUvvPQJSA5fGPf50ItO7YRDyXtXUOMVYIen7b3PLLirtWuc6LQndvqmqo0inN+17OvscDnh4Lw0FjwZvP+/5Kgfo8LK40aA4EQ3o3ev+iteqIq7wXPrIn07+xWgAAAAABAAH//wAPeJyFlctvG1UUh+/12DPN1B7P3JnYjj2Ox4/MuDHxJH5N3UdaEUQLqBIkfQQioJWQ6AMEQkIqsPGCPwA1otuWSmTBhjtps2ADWbJg3EpIXbGouqSbCraJw7kzNo2dRN1cnXN1ZvT7zuuiMEI7ncizyA0URofRBJpCdbQuIFShYY+GZRrxMDVtih5TwQPHtXDFFSIKoWIbuREBjLH27Ny4MsbVx+uOJThavebgVrNRLAiYx06rXsvhxLgWx9xpfHdrs/ekc2Pl2cpPCVEITQpwbj8VQhfXSq2m+Wxqaq2D73Kne5e3NjHqQNj3CRYlJlgUl/jRNP+2Gs2pNYRQiOnmUaQDqm30KqKiTTWPWjboxnTWpvgxjXo0KrtZXAHt7hwIz0YVcj88JnKlJKi3NPAwLyDwZudSmJSMMJFDYaOkaol6XtESx3Gt1VTytdZJ3DCLeaVhVnCBH1fycHTxFXwPX+l2e3d6H/TufGGmMTLTnbSJUdo00zuBswMO/nl3YLeL/wnu9/limCuD3vC54h5NBVz6Li414AI8Vx3iiosKcQXUbrvhFFiYb++HN4DaF4XzFW0fIN4XDWJ3a3XQoq9V8WiyRmdsatV9xUcHims1JloH0YUa090G3Tro3mC6c01f+YwCPquINr1PTaCP6rVTOOmf0GE2dBc7zWIhji3/5MchSuBHgDbU99RMWt3YUNMZMJmx92YP6NsHx/5/M1yvInpnkIOM3Z8fA3JQ2lW1RFC1KaBPDFXNAHYYvGy73aYZZZ3HifbeuiVZCpwA3oQBs0wGPYJbJfg60xrKEbKiNtTe1adwrpBRwlAuQ3q3VRaX0QmQ9a49BTSCuF1MLfQ6+tinOubRBZuWPNoMevGMT+V41KitO1is3D/tpMcq1JHZqDHGs8DoYGDkxJgKjHROeTCmhZvzPm9pod+ltKm4PN7Dyvvldlpsg8D+4AUJZ3F/JBstZz7cbFRxsaAGV6yX/dkcycWf8eS3QlQea+YLjdm3yrOnrhFpUyKVvFE4lpv4bO3Svx/6F/4xmiDu/RT5iI++lko18mY1oX+5UGKR6kmVjM/Zb76yfHtxy+h/SyQ0lLdpdKy/lWB6szatetQJ8nZ80A2Qt6ift6gJeavU3BO4gtxs/KCtNPVibCtYCWY3SIlSBPKXZALXiIR9oZeJ1AuMyxLpHIy/yO7vSiSE+kZvk0ihJ30HgHfzZtEMmvV58x6dtqns0XTAW7Vdm4HJ04OCp/crOO7rd9SGxQAE/mVA9xRN+kVSMRFF6S9JFGUtthkjBA5tFCWc2l4V43Ex9GmUP3SI37Jjmir9KqlaDJ4S4JB3vuM/jzyH1+8MuoZ+QGzfnvPoJb96cZlWjMcKLfgDwB7E634JTY+asjsPzS5CiVnEWY+KsrsIN5rn3mAPjqmQBxGjcGKB9f9ZxY3mYC2L85CJ2FXIxKKyHk+dg0FHbuEc7D5NzWUX32WxFcWNGRAbvwSx0RmIXVDuYySafluQBmzA/ssqJAMLnli+WIC90Gw4lm85wcp0qjArEDPJJV/sSx4P9ungTpgMw5gVC1XO4uULq0s3v1rqLi0vX/z65vlH50f8T/RHmSPTk5xxWBWOluMT6WiOy+tdvWxlV/XQb3o3c6Ssr+r6I708GsX9/nzp1tKFh0s3v7m4vAy/Hnb/KMOvc1wump6Il48K6mGDy02X9Yd65pa+nQIjk76lWxCkG8NBCP0HQS9IpAAAeJxjYGRgYGBhcCrq214Qz2/zlUGenQEEzr/77oug/zewFbB+AHI5GJhAogBwKQ0qeJxjYGRgYH3/P46BgZ0BBNgKGBgZUAEPAE/7At0AAAB4nGNngAB2IGYjhBsYBAAIYADVAAAAAAAAAAAAAFwAyAEeAaACCgKmAx4DggRmAAAAAQAAAAwAagAEAAAAAAACAAEAAgAWAAABAAChAAAAAHiclZI7bxQxFIWPd/JkUYQChEhIyAVKgdBMskm1QkKrRETpQiLRUczueB/K7HhlOxttg8LvoKPgP9DxFxANDR0tHRWi4NjrPIBEgh1p/dm+vufcawNYFWsQmP6e4jSyQB2fI9cwj++RE9wTjyPP4LYoI89iWbyLPIe6+Bh5Hs9rryMv4GbtW+RF3EhuRa7jbrIbeQkPkjdUETOLnL0Kip4FVvAhco1RXyMnSPEz8gzWxE7kWTwUp5HnsCLeR57HW/El8gJWa58iL+JO7UfkOh4l9yMv4UnyEtvQGGECgwF66MNBooF1bGCL1ELB/TYU+ZBRlvsKQ44Se6jQ4a7hef+fh72Crv25kp+8lNWGmeKoOI5jJLb1aGIGvb6TjfWNLdkqdFvJw4l1amjlXtXRZqRN7lSRylZZyhBqpVFWmTEXgWfUrpi/hZOQXdOd4rKuXOtEWT3k5IArPRzTUU5tHKjecZkTpnVbNOnt6jzN8240GD4xtikvZW56043rPMg/dS+dlOceXoR+WPbJ55Dsekq1lJpnypsMUsYOdCW30o103Ytu/lvh+5RWFLfBjm9/N8hJntPhvx92rnoE/kyHdGasGy754kw36vsVf/lFeBi+0COu+cfgQr42G3CRpeLoZ53gmfe3X6rcKt5oVxnptHR9JS8ehVUd5wvvahN2uqxOOpMXapibI5k7Zwbt4xBSaTfoKBufhAnO/uqNcfK8OTs0OQ6l7JIqFjDhYj5WcjevCnI/1DDiI8j4ndWb/5YzDZWh79yomWXeXj7Nnw70/2TIeFPTrlSh89k1ObOSRVZWZfgF0r/zJQB4nG2JUQuCQBCEd07TTg36fb2IyBaLd3vWaUh/vmSJnvpgmG8YcmS8X3Shf3R7QA4OBUocUKHGER5NNbOOEvwc1txnuWkTRb/aPjimJ5vXabI+3VfOiyS15UWvyezM2xiGOPyuMohOH8O8JiO4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFhZsBQrAAA=) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>Understand JavaScript Callback Functions and Use Them</title></head><body><article class="markdown-body"><p><a href="http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/" target="_blank" rel="external">Learn JavaScript Higher-order Functions, aka Callback Functions by Richard Bovell</a></p>
<p>In JavaScript, functions are first-class objects; that is, functions are of the type Object and they can be used in a first-class manner like any other object (String, Array, Number, etc.) since they are in fact objects themselves. They can be “stored in variables, passed as arguments to functions, created within functions, and returned from functions”</p>
<blockquote>
<p>Because functions are first-class objects, we can pass a function as<br>
an argument in another function and later execute that passed-in<br>
function or even return it to be executed later. This is the essence<br>
of using callback functions in JavaScript.</p>
</blockquote>
<p>In the rest of this article we will learn everything about JavaScript callback functions. Callback functions are probably the most widely used functional programming technique in JavaScript, and you can find them in just about every piece of JavaScript and jQuery code, yet they remain mysterious to many JavaScript developers. The mystery will be no more, by the time you finish reading this article. </p>
<p><strong>Callback functions are derived from a programming paradigm known as functional programming. At a fundamental level, functional programming specifies the use of functions as arguments.</strong> Functional programming was—and still is, though to a much lesser extent today—seen as an esoteric technique of specially trained, master programmers.</p>
<p>Fortunately, the techniques of functional programming have been elucidated so that mere mortals like you and me can understand and use them with ease. One of the chief techniques in functional programming happens to be callback functions. As you will read shortly, implementing callback functions is as easy as passing regular variables as arguments. This technique is so simple that I wonder why it is mostly covered in advanced JavaScript topics.</p>
<p><strong>What is a Callback or Higher-order Function?</strong></p>
<p>A callback function, also known as a higher-order function, is a function that is passed to another function (let’s call this other function “otherFunction”) as a parameter, and the callback function is called (or executed) inside the otherFunction. A callback function is essentially a pattern (an established solution to a common problem), and therefore, the use of a callback function is also known as a callback pattern.</p>
<p>Consider this common use of a callback function in jQuery:</p>
<pre><code class="javascript">    //Note that the item in the click method's parameter is a function, not a variable.​
    //The item is a callback function
    $(&quot;#btn_1&quot;).click(function() {
      alert(&quot;Btn 1 Clicked&quot;);
    });
</code></pre>

<p>As you see in the preceding example, we pass a function as a parameter to the click method. And the click method will call (or execute) the callback function we passed to it. This example illustrates a typical use of callback functions in JavaScript, and one widely used in jQuery.</p>
<p>Ruminate on this other classic example of callback functions in basic JavaScript:</p>
<p><pre><code class="javascript">    var friends = [&quot;Mike&quot;, &quot;Stacy&quot;, &quot;Andy&quot;, &quot;Rick&quot;];
    friends.forEach(function (eachName, index){
    console.log(index + 1 + &quot;. &quot; + eachName); // 1. Mike, 2. Stacy, 3. Andy, 4. Rick​
    });
</code></pre><br>
Again, note the way we pass an anonymous function (a function without a name) to the forEach method as a parameter.</p>
<p><strong>So far we have passed anonymous functions as a parameter to other functions or methods.</strong> Lets now understand how callbacks work before we look at more concrete examples and start making our own callback functions.</p>
<p><strong>How Callback Functions Work?</strong><br>
We can pass functions around like variables and return them in functions and use them in other functions. </p>
<p><strong>When we pass a callback function as an argument to another function, we are only passing the function definition. We are not executing the function in the parameter. In other words, we aren’t passing the function with the trailing pair of executing parenthesis () like we do when we are executing a function.</strong></p>
<p>And since the containing function has the callback function in its parameter as a function definition, it can execute the callback anytime.</p>
<p><strong>Note that the callback function is not executed immediately.</strong> It is “called back” (hence the name) at some specified point inside the containing function’s body. So, even though the first jQuery example looked like this:</p>
<p><pre><code class="javascript">    //The anonymous function is not being executed there in the parameter. 
    //The item is a callback function
    $(&quot;#btn_1&quot;).click(function() {
      alert(&quot;Btn 1 Clicked&quot;);
    });
</code></pre><br>
the anonymous function will be called later inside the function body. <em>Even without a name, it can still be accessed later via the arguments object by the containing function.</em></p>
<p><strong>Callback Functions Are Closures</strong><br>
<em>When we pass a callback function as an argument to another function, the callback is executed at some point inside the containing function’s body just as if the callback were defined in the containing function.</em> This means the callback is a closure. Read my post, Understand JavaScript Closures With Ease for more on closures. As we know, <strong>closures have access to the containing function’s scope, so the callback function can access the containing functions’ variables, and even the variables from the global scope.</strong></p>
<p>**</p></article></body></html>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-new-features-in-ES6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/15/new-features-in-ES6/" class="article-date">
  	<time datetime="2016-03-16T05:52:33.000Z" itemprop="datePublished">2016-03-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/15/new-features-in-ES6/">New features in ES6</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="New-Features-in-ES6"><a href="#New-Features-in-ES6" class="headerlink" title="New Features in ES6"></a>New Features in ES6</h4><p><a href="http://webapplog.com/es6/" target="_blank" rel="external">From: Top 10 ES6 Features Every Busy JavaScript Developer Must Know</a></p>
<blockquote>
<p><strong>Parameters in ES6：括号里传入值</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> link = <span class="function"><span class="keyword">function</span> (<span class="params">height, color, url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> height = height || <span class="number">50</span></span><br><span class="line">    <span class="keyword">var</span> color = color || <span class="string">'red'</span></span><br><span class="line">    <span class="keyword">var</span> url = url || <span class="string">'http://azat.co'</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>===&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> link = <span class="function"><span class="keyword">function</span>(<span class="params">height = 50, color = 'red', url = 'http:<span class="comment">//azat.co') &#123;</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Template Literals in ES6 :   <code>${name}</code></strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'Your name is '</span> + first + <span class="string">' '</span> + last + <span class="string">'.'</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">'http://localhost:3000/api/messages/'</span> + id</span><br></pre></td></tr></table></figure>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">`Your name is <span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>.`</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">`http://localhost:3000/api/messages/<span class="subst">$&#123;id&#125;</span>`</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Multi-line Strings in ES6 ：换行自带回车</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> roadPoem = <span class="string">'Then took the other, as just as fair,\n\t'</span></span><br><span class="line">    + <span class="string">'And having perhaps the better claim\n\t'</span></span><br><span class="line">    + <span class="string">'Because it was grassy and wanted wear,\n\t'</span></span><br><span class="line">    + <span class="string">'Though as for that the passing there\n\t'</span></span><br><span class="line">    + <span class="string">'Had worn them really about the same,\n\t'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fourAgreements = <span class="string">'You have the right to be you.\n\</span><br><span class="line">    You can only be you when you do your best.'</span></span><br></pre></td></tr></table></figure>
<p>=====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> roadPoem = <span class="string">`Then took the other, as just as fair,</span><br><span class="line">    And having perhaps the better claim</span><br><span class="line">    Because it was grassy and wanted wear,</span><br><span class="line">    Though as for that the passing there</span><br><span class="line">    Had worn them really about the same,`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fourAgreements = <span class="string">`You have the right to be you.</span><br><span class="line">    You can only be you when you do your best.`</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Destructuring Assignment in ES6</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = $(<span class="string">'body'</span>).data(), <span class="comment">// data has properties house and mouse</span></span><br><span class="line">  house = data.house,</span><br><span class="line">  mouse = data.mouse</span><br></pre></td></tr></table></figure>
<p>another example from node.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonMiddleware = <span class="built_in">require</span>(<span class="string">'body-parser'</span>).json</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> body = req.body, <span class="comment">// body has username and password</span></span><br><span class="line">  username = body.username,</span><br><span class="line">  password = body.password</span><br></pre></td></tr></table></figure></p>
<p>=====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123; house, mouse&#125; = $(<span class="string">'body'</span>).data() <span class="comment">// we'll get house and mouse variables</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;jsonMiddleware&#125; = <span class="built_in">require</span>(<span class="string">'body-parser'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;username, password&#125; = req.body</span><br><span class="line"></span><br><span class="line"><span class="comment">//This also works with arrays:</span></span><br><span class="line"><span class="keyword">var</span> [col1, col2]  = $(<span class="string">'.column'</span>),</span><br><span class="line">  [line1, line2, line3, , line5] = file.split(<span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Enhanced Object Literals in ES6: toString()</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serviceBase = &#123;port: <span class="number">3000</span>, url: <span class="string">'azat.co'</span>&#125;,</span><br><span class="line">    getAccounts = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> accountServiceES5 = &#123;</span><br><span class="line">  port: serviceBase.port,</span><br><span class="line">  url: serviceBase.url,</span><br><span class="line">  getAccounts: getAccounts,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.valueOf())</span><br><span class="line">  &#125;,</span><br><span class="line">  getUrl: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span> <span class="string">"http://"</span> + <span class="keyword">this</span>.url + <span class="string">':'</span> + <span class="keyword">this</span>.port&#125;,</span><br><span class="line">  valueOf_1_2_3: getAccounts()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>=====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serviceBase = &#123;port: <span class="number">3000</span>, url: <span class="string">'azat.co'</span>&#125;,</span><br><span class="line">    getAccounts = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br><span class="line"><span class="keyword">var</span> accountService = &#123;</span><br><span class="line">    __proto__: serviceBase,</span><br><span class="line">    getAccounts,</span><br><span class="line">    toString() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify((<span class="keyword">super</span>.valueOf()))</span><br><span class="line">    &#125;,</span><br><span class="line">    getUrl() &#123;<span class="keyword">return</span> <span class="string">"http://"</span> + <span class="keyword">this</span>.url + <span class="string">':'</span> + <span class="keyword">this</span>.port&#125;,</span><br><span class="line">    [ <span class="string">'valueOf_'</span> + getAccounts().join(<span class="string">'_'</span>) ]: getAccounts()</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(accountService)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Arrow Functions in ES6 :  =&gt;</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _this = <span class="keyword">this</span></span><br><span class="line">$(<span class="string">'.btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">  _this.sendData()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.btn'</span>).click((event) =&gt;&#123;</span><br><span class="line">  <span class="keyword">this</span>.sendData()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>Another example<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> logUpperCase = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="keyword">this</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.string = <span class="keyword">this</span>.string.toUpperCase()</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(_this.string)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">logUpperCase.call(&#123; string: <span class="string">'es6 rocks'</span> &#125;)()</span><br></pre></td></tr></table></figure></p>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> logUpperCase = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.string = <span class="keyword">this</span>.string.toUpperCase()</span><br><span class="line">  <span class="keyword">return</span> () =&gt; <span class="built_in">console</span>.log(<span class="keyword">this</span>.string)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">logUpperCase.call(&#123; string: <span class="string">'es6 rocks'</span> &#125;)()</span><br></pre></td></tr></table></figure></p>
<p>Another example:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ids = [<span class="string">'5632953c4e345e145fdf2df8'</span>,<span class="string">'563295464e345e145fdf2df9'</span>]</span><br><span class="line"><span class="keyword">var</span> messages = ids.map(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"ID is "</span> + value <span class="comment">// explicit return</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ids = [<span class="string">'5632953c4e345e145fdf2df8'</span>,<span class="string">'563295464e345e145fdf2df9'</span>]</span><br><span class="line"><span class="keyword">var</span> messages = ids.map(value =&gt; <span class="string">`ID is <span class="subst">$&#123;value&#125;</span>`</span>) <span class="comment">// implicit return</span></span><br></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ids = [<span class="string">'5632953c4e345e145fdf2df8'</span>, <span class="string">'563295464e345e145fdf2df9'</span>];</span><br><span class="line"><span class="keyword">var</span> messages = ids.map(<span class="function"><span class="keyword">function</span> (<span class="params">value, index, list</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'ID of '</span> + index + <span class="string">' element is '</span> + value + <span class="string">' '</span> <span class="comment">// explicit return</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ids = [<span class="string">'5632953c4e345e145fdf2df8'</span>,<span class="string">'563295464e345e145fdf2df9'</span>]</span><br><span class="line"><span class="keyword">var</span> messages = ids.map((value, index, list) =&gt; <span class="string">`ID of <span class="subst">$&#123;index&#125;</span> element is <span class="subst">$&#123;value&#125;</span> `</span>) <span class="comment">// implicit return</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Promises in ES6</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Yay!'</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wait1000 =  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  setTimeout(resolve, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Yay!'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wait1000 =  <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject)=&gt; &#123;</span><br><span class="line">  setTimeout(resolve, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(()=&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Yay!'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Yay!'</span>)</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Wheeyee!'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure></p>
<p>Can be re-written with ES6 promises<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wait1000 =  ()=&gt; <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject)=&gt; &#123;setTimeout(resolve, <span class="number">1000</span>)&#125;)</span><br><span class="line"></span><br><span class="line">wait1000()</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Yay!'</span>)</span><br><span class="line">        <span class="keyword">return</span> wait1000()</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Wheeyee!'</span>)</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Block-Scoped Constructs Let and Const</strong></p>
</blockquote>
<p>Block-scoped binding constructs. <code>let</code> is the new var. <code>const</code> is single-assignment.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotalAmount</span> (<span class="params">vip</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> amount = <span class="number">0</span></span><br><span class="line">  <span class="keyword">if</span> (vip) &#123;</span><br><span class="line">    <span class="keyword">var</span> amount = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#123; <span class="comment">// more crazy blocks!</span></span><br><span class="line">    <span class="keyword">var</span> amount = <span class="number">100</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">var</span> amount = <span class="number">1000</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">return</span> amount  <span class="comment">//1000</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(calculateTotalAmount(<span class="literal">true</span>))</span><br></pre></td></tr></table></figure></p>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotalAmount</span> (<span class="params">vip</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> amount = <span class="number">0</span> <span class="comment">// probably should also be let, but you can mix var and let</span></span><br><span class="line">  <span class="keyword">if</span> (vip) &#123;</span><br><span class="line">    <span class="keyword">let</span> amount = <span class="number">1</span> <span class="comment">// first amount is still 0</span></span><br><span class="line">  &#125; </span><br><span class="line">  &#123; <span class="comment">// more crazy blocks!</span></span><br><span class="line">    <span class="keyword">let</span> amount = <span class="number">100</span> <span class="comment">// first amount is still 0</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">let</span> amount = <span class="number">1000</span> <span class="comment">// first amount is still 0</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">return</span> amount <span class="comment">//0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(calculateTotalAmount(<span class="literal">true</span>))</span><br></pre></td></tr></table></figure></p>
<p>const<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateTotalAmount</span> (<span class="params">vip</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> amount = <span class="number">0</span>  </span><br><span class="line">  <span class="keyword">if</span> (vip) &#123;</span><br><span class="line">    <span class="keyword">const</span> amount = <span class="number">1</span> </span><br><span class="line">  &#125; </span><br><span class="line">  &#123; <span class="comment">// more crazy blocks!</span></span><br><span class="line">    <span class="keyword">const</span> amount = <span class="number">100</span> </span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">const</span> amount = <span class="number">1000</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">return</span> amount</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(calculateTotalAmount(<span class="literal">true</span>))</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Classes in ES6</strong></p>
</blockquote>
<p>a class <code>baseModel</code> in which we can define a constructor and a <code>getName()</code> method<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">baseModel</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options = &#123;&#125;, data = []) &#123; <span class="comment">// class constructor</span></span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">'Base'</span></span><br><span class="line">    <span class="keyword">this</span>.url = <span class="string">'http://azat.co/api'</span></span><br><span class="line">        <span class="keyword">this</span>.data = data</span><br><span class="line">    <span class="keyword">this</span>.options = options</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getName() &#123; <span class="comment">// class method</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`Class name: <span class="subst">$&#123;this.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AccountModel</span> <span class="keyword">extends</span> <span class="title">baseModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(options, data) &#123;</span><br><span class="line">    <span class="keyword">super</span>(&#123;private: <span class="literal">true</span>&#125;, [<span class="string">'32113123123'</span>, <span class="string">'524214691'</span>]) <span class="comment">//call the parent method with super</span></span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">'Account Model'</span></span><br><span class="line">    <span class="keyword">this</span>.url +=<span class="string">'/accounts/'</span></span><br><span class="line">    &#125;</span><br><span class="line">    get accountsData() &#123; <span class="comment">//calculated attribute getter</span></span><br><span class="line">    <span class="comment">// ... make XHR</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> accounts = <span class="keyword">new</span> AccountModel(<span class="number">5</span>)</span><br><span class="line">accounts.getName()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Data is %s'</span>, accounts.accountsData)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Modules in ES6</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//module.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  port: <span class="number">3000</span>,</span><br><span class="line">  getAccounts: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">var</span> service = <span class="built_in">require</span>(<span class="string">'module.js'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(service.port) <span class="comment">// 3000</span></span><br></pre></td></tr></table></figure>
<p>====&gt;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//module.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> port = <span class="number">3000</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getAccounts</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;port, getAccounts&#125; <span class="keyword">from</span> <span class="string">'module'</span></span><br><span class="line"><span class="built_in">console</span>.log(port); <span class="comment">// 3000</span></span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> service <span class="keyword">from</span> <span class="string">'module'</span></span><br><span class="line"><span class="built_in">console</span>.log(service.port) <span class="comment">// 3000</span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://webapplog.com/es6/" target="_blank" rel="external">How to use babel </a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-variable-scope-n-hoisting" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/15/variable-scope-n-hoisting/" class="article-date">
  	<time datetime="2016-03-16T05:19:43.000Z" itemprop="datePublished">2016-03-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/15/variable-scope-n-hoisting/">JavaScript Variable Scope and Hoisting</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://javascriptissexy.com/javascript-variable-scope-and-hoisting-explained/" target="_blank" rel="external">Extract from javascriptissexy</a></p>
<p>##Variable Scope</p>
<p><strong>Definition:</strong> A variable’s scope is the context in which the variable exists. The scope specifies from where you can access a variable and whether you have access to the variable in that context.<br>Variables have either a <strong>local scope</strong> or a <strong>global scope</strong>.</p>
<p><strong>Local Variables (Function-level scope)</strong><br>Variables declared within a function are local variables and are only accessible within that function or by functions inside that function.</p>
<ul>
<li><p><strong>No Block-Level Scope</strong>(variables scoped to surrounding curly brackets) example: variable in function without “var” is to be a global variable. </p>
</li>
<li><p><strong>Local Variables Have Priority Over Global Variables in Functions</strong><br>If you declare a global variable and a local variable with the same name, the local variable will have priority when you attempt to use the variable inside a function (local scope)</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"Paul"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">users</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Here, the name variable is local and it takes precedence over the same name variable in the global scope​</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Jack"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The search for name starts right here inside the function before it attempts to look outside the function in the global scope​</span></span><br><span class="line"><span class="built_in">console</span>.log (name); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">users (); <span class="comment">// Jack</span></span><br></pre></td></tr></table></figure>
<p><strong>Global Variables</strong><br>All variables declared outside a function are in the global scope. In the browser, which is what we are concerned with as front-end developers, the global context or scope is the window object (or the entire HTML document).</p>
<ul>
<li>If a variable is initialized (assigned a value) without first being declared with the var keyword, it is automatically added to the global context and it is thus a global variable</li>
</ul>
<p>Pay attention to i: </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">	<span class="built_in">console</span>.log (i); <span class="comment">// outputs 1, 2, 3, 4, 5, 6, 7, 8, 9, 10;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The variable i is a global variable and it is accessible in the following function with the last value it was assigned above ​</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aNumber</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The variable i in the aNumber function below is the global variable i that was changed in the for loop above. Its last value was 11, set just before the for loop exited:</span></span><br><span class="line">aNumber ();  <span class="comment">// 11</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>setTimeout</strong> Variables are Executed in the Global Scope<br>Note that all functions in setTimeout are executed in the global scope. This is a tricky bit; consider this:</li>
</ul>
<p>// The use of the “this” object inside the setTimeout function refers to the Window object, not to myObj​</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">var</span> highValue = <span class="number">200</span>;</span><br><span class="line">	<span class="keyword">var</span> constantVal = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">var</span> myObj = &#123;</span><br><span class="line">		highValue: <span class="number">20</span>,</span><br><span class="line">		constantVal: <span class="number">5</span>,</span><br><span class="line">		calculateIt: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	 setTimeout (<span class="function"><span class="keyword">function</span>  (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.constantVal * <span class="keyword">this</span>.highValue);</span><br><span class="line">	&#125;, <span class="number">2000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// The "this" object in the setTimeout function used the global highValue and constantVal variables, because the reference to "this" in the setTimeout function refers to the global window object, not to the myObj object as we might expect.​</span></span><br><span class="line"></span><br><span class="line">	myObj.calculateIt(); <span class="comment">// 400</span></span><br><span class="line">	<span class="comment">// This is an important point to remember.</span></span><br><span class="line"></span><br><span class="line">**Do not Pollute the Global Scope**</span><br><span class="line">you have to know that it is important to avoid creating many variables <span class="keyword">in</span> the global scope, such <span class="keyword">as</span> <span class="keyword">this</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">// These two variables are in the global scope and they shouldn't be here</span></span><br><span class="line">	<span class="keyword">var</span> firstName, lastName;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fullName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log (<span class="string">"Full Name: "</span> + firstName + <span class="string">" "</span> + lastName );</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">This is the improved code and the proper way to avoid polluting the global scope</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Declare the variables inside the function where they are local variables</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fullName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> firstName = <span class="string">"Michael"</span>, lastName = <span class="string">"Jackson"</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">console</span>.log (<span class="string">"Full Name: "</span> + firstName + <span class="string">" "</span> + lastName );</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Variable Hoisting</strong><br><em>All variable declarations are hoisted (lifted and declared) to the top of the function</em>, if defined in a function, or the top of the global context, if outside a function.</p>
<p>It is important to know that only variable declarations are hoisted to the top, <strong>not variable initialization or assignments</strong> (when the variable is assigned a value).</p>
<p>Variable Hoisting Example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log (<span class="string">"First Name: "</span> + name);</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Ford"</span>;</span><br><span class="line"><span class="built_in">console</span>.log (<span class="string">"Last Name: "</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">showName (); </span><br><span class="line"><span class="comment">// First Name: undefined</span></span><br><span class="line"><span class="comment">// Last Name: Ford</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The reason undefined prints first is because the local variable name was hoisted to the top of the function​</span></span><br><span class="line"><span class="comment">// Which means it is this local variable that get calls the first time.</span></span><br><span class="line"><span class="comment">// This is how the code is actually processed by the JavaScript engine:</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> name; <span class="comment">// name is hoisted (note that is undefined at this point, since the assignment happens below)</span></span><br><span class="line"><span class="built_in">console</span>.log (<span class="string">"First Name: "</span> + name); <span class="comment">// First Name: undefined</span></span><br><span class="line"></span><br><span class="line">name = <span class="string">"Ford"</span>; <span class="comment">// name is assigned a value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// now name is Ford</span></span><br><span class="line"><span class="built_in">console</span>.log (<span class="string">"Last Name: "</span> + name); <span class="comment">// Last Name: Ford</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Function Declaration Overrides Variable Declaration When Hoisted</strong><br><code>Both function declaration and variable declarations are hoisted to the top of the containing scope.</code> And <code>function declaration takes precedence over variable declarations (but not over variable assignment).</code> As is noted above, variable assignment is not hoisted, and neither is function assignment. As a reminder, this is a function assignment: var myFunction = function () {}.<br>Here is a basic example to demonstrate:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">// Both the variable and the function are named myName</span></span><br><span class="line">	<span class="keyword">var</span> myName;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">myName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log (<span class="string">"Rich"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// The function declaration overrides the variable name</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">typeof</span> myName); <span class="comment">// function</span></span><br><span class="line">------</span><br><span class="line">	 <span class="comment">// But in this example, the variable assignment overrides the function declaration</span></span><br><span class="line">	<span class="keyword">var</span> myName = <span class="string">"Richard"</span>; <span class="comment">// This is the variable assignment (initialization) that overrides the function declaration.</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">myName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log (<span class="string">"Rich"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">typeof</span> myName); <span class="comment">// string </span></span><br><span class="line"></span><br><span class="line">It is important to note that <span class="string">`function expressions`</span>, such <span class="keyword">as</span> the example below, <span class="string">`are not hoisted`</span>.</span><br><span class="line"></span><br><span class="line">	var myName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log (<span class="string">"Rich"</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>In <code>strict mode</code>, an error will occur if you assign a variable a value without first declaring the variable. Always declare your variables.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-node-interview" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/15/node-interview/" class="article-date">
  	<time datetime="2016-03-16T05:17:07.000Z" itemprop="datePublished">2016-03-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/15/node-interview/">Node interview questions</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://career.guru99.com/top-25-interview-questions-on-node-js/" target="_blank" rel="external">extract from CareerGuru</a></p>
<p><strong>1)      What is node.js?</strong></p>
<p>Node.js is a Server side scripting which is used to build scalable programs. Its multiple advantages over other server side languages, the prominent being non-blocking I/O.</p>
<p><strong>2)      How node.js works?</strong></p>
<p>Node.js works on a v8 environment, it is a virtual machine that utilizes JavaScript as its scripting language and achieves high output via non-blocking I/O and single threaded event loop.</p>
<p><strong>3)      What do you mean by the term I/O ?</strong></p>
<p>I/O is the shorthand for input and output, and it will access anything outside of your application. It will be loaded into the machine memory to run the program, once the application is started.</p>
<p><strong>4)      What does event-driven programming mean?</strong></p>
<p>In computer programming, event driven programming is a programming paradigm in which the flow of the program is determined by events like messages from other programs or threads. It is an application architecture technique divided into two sections 1) Event Selection 2) Event Handling</p>
<p><strong>5)      Where can we use node.js?</strong></p>
<p>Node.js can be used for the following purposes</p>
<p>a)      Web applications ( especially real-time web apps )</p>
<p>b)      Network applications</p>
<p>c)       Distributed systems</p>
<p>d)      General purpose applications</p>
<p><strong>6)      What is the advantage of using node.js?</strong></p>
<p>a)      It provides an easy way to build scalable network programs</p>
<p>b)      Generally fast</p>
<p>c)       Great concurrency</p>
<p>d)      Asynchronous everything</p>
<p>e)      Almost never blocks</p>
<p><strong>7)      What are the two types of API functions in Node.js ?</strong></p>
<p>The two types of API functions in Node.js are</p>
<p>a)      Asynchronous, non-blocking functions</p>
<p>b)      Synchronous, blocking functions</p>
<p><strong>8)      What is control flow function?</strong></p>
<p>A generic piece of code which runs in between several asynchronous function calls is known as control flow function.</p>
<p><strong>9)      Explain the steps how “Control Flow” controls the functions calls?</strong></p>
<p>a)      Control the order of execution</p>
<p>b)      Collect data</p>
<p>c)       Limit concurrency</p>
<p>d)      Call the next step in program</p>
<p><strong>10)   Why Node.js is single threaded?</strong></p>
<p>For async processing, Node.js was created explicitly as an experiment. It is believed that more performance and scalability can be achieved by doing async processing on a single thread under typical web loads than the typical thread based implementation.</p>
<p><strong>11)   Does node run on windows?</strong></p>
<p>Yes – it does. Download the MSI installer from <a href="http://nodejs.org/download/" target="_blank" rel="external">http://nodejs.org/download/</a></p>
<p><strong>12)   Can you access DOM in node?</strong></p>
<p>No, you cannot access DOM in node.</p>
<p><strong>13)   Using the event loop what are the tasks that should be done asynchronously?</strong></p>
<p>a)      I/O operations</p>
<p>b)      Heavy computation</p>
<p>c)       Anything requiring blocking</p>
<p><strong>14)   Why node.js is quickly gaining attention from JAVA programmers?</strong></p>
<p>Node.js is quickly gaining attention as it is a loop based server for JavaScript. Node.js gives user the ability to write the JavaScript on the server, which has access to things like HTTP stack, file I/O, TCP and databases.</p>
<p><strong>15)   What are the two arguments that async.queue takes?</strong></p>
<p>The two arguments that async.queue takes</p>
<p>a)      Task function</p>
<p>b)      Concurrency value</p>
<p><strong>16)   What is an event loop in Node.js ?</strong></p>
<p>To process and handle external events and to convert them into callback invocations an event loop is used. So, at I/O calls, node.js can switch from one request to another .</p>
<p><strong>17)   Mention the steps by which you can async in Node.js?</strong></p>
<p>By following steps you can async Node.js</p>
<p>a)      First class functions</p>
<p>b)      Function composition</p>
<p>c)       Callback Counters</p>
<p>d)      Event loops</p>
<p><strong>18)    What are the pros and cons of Node.js?</strong></p>
<p>Pros:</p>
<p>a)      If your application does not have any CPU intensive computation, you can build it in Javascript top to bottom, even down to the database level if you use JSON storage object DB like MongoDB.</p>
<p>b)      Crawlers receive a full-rendered HTML response, which is far more SEO friendly rather than a single page application or a websockets app run on top of Node.js.</p>
<p>Cons:</p>
<p>a)       Any intensive CPU computation will block node.js responsiveness, so a threaded platform is a better approach.<br>b)      Using relational database with Node.js is considered less favourable</p>
<p><strong>19)   How Node.js overcomes the problem of blocking of I/O operations?</strong></p>
<p>Node.js solves this problem by putting the event based model at its core, using an event loop instead of threads.</p>
<p><strong>20)   What is the difference between Node.js vs Ajax?</strong></p>
<p>The difference between Node.js and Ajax is that, Ajax (short for Asynchronous Javascript and XML) is a client side technology, often used for updating the contents of the page without refreshing it. While,Node.js is Server Side Javascript, used for developing server software. Node.js does not execute in the browser but by the server.</p>
<p><strong>21)   What are the Challenges with Node.js ?</strong></p>
<p>Emphasizing on the technical side, it’s a bit of challenge in Node.js to have one process with one thread to scale up on multi core server.</p>
<p><strong>22)    What does it mean “non-blocking” in node.js?</strong></p>
<p>In node.js “non-blocking” means that its IO is non-blocking.  Node uses “libuv” to handle its IO in a platform-agnostic way. On windows, it uses completion ports for unix it uses epoll or kqueue etc. So, it makes a non-blocking request and upon a request, it queues it within the event loop which call the JavaScript ‘callback’ on the main JavaScript thread.</p>
<p><strong>23)   What is the command that is used in node.js to import external libraries?</strong></p>
<p>Command “require” is used for importing external libraries, for example, “var http=require (“http”)”.  This will load the http library and the single exported object through the http variable.</p>
<p><strong>24)   Mention the framework most commonly used in node.js?</strong></p>
<p>“Express” is the most common framework used in node.js</p>
<p><strong>25)   What is ‘Callback’ in node.js?</strong></p>
<p>Callback function is used in node.js to deal with multiple requests made to the server. Like if you have a large file which is going to take a long time for a server to read and if you don’t want a server to get engage in reading that large file while dealing with other requests, call back function is used. Call back function allows the server to deal with pending request first and call a function when it is finished.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-markdown-basics" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/12/markdown-basics/" class="article-date">
  	<time datetime="2016-03-12T08:00:00.000Z" itemprop="datePublished">2016-03-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/12/markdown-basics/">Markdown basics</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>Extract from markdownPreview plugin cheatsheet of sublime<br><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank" rel="external">Markdown Cheatsheet</a></p>
</blockquote>
<h4 id="Text-basics"><a href="#Text-basics" class="headerlink" title="Text basics"></a><strong>Text basics</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Big title (h1)</span><br><span class="line">## Middle title (h2)</span><br><span class="line">### Smaller title (h3)</span><br><span class="line">#### h4</span><br><span class="line">##### h5</span><br><span class="line">###### h6</span><br></pre></td></tr></table></figure>
<h1 id="Big-title-h1"><a href="#Big-title-h1" class="headerlink" title="Big title (h1)"></a>Big title (h1)</h1><h2 id="Middle-title-h2"><a href="#Middle-title-h2" class="headerlink" title="Middle title (h2)"></a>Middle title (h2)</h2><h3 id="Smaller-title-h3"><a href="#Smaller-title-h3" class="headerlink" title="Smaller title (h3)"></a>Smaller title (h3)</h3><h4 id="h4"><a href="#h4" class="headerlink" title="h4"></a>h4</h4><h5 id="h5"><a href="#h5" class="headerlink" title="h5"></a>h5</h5><h6 id="h6"><a href="#h6" class="headerlink" title="h6"></a>h6</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> *italic* </span><br><span class="line"> _italic_</span><br><span class="line"> **bold**</span><br><span class="line"> __bold__</span><br><span class="line">`important`</span><br><span class="line"> % and `%`</span><br><span class="line">[^note-id]</span><br><span class="line"> `[ TOC ]`</span><br></pre></td></tr></table></figure>
<p> <em>italic</em> </p>
<p> <em>italic</em></p>
<p> <strong>bold</strong></p>
<p> <strong>bold</strong></p>
<p><code>important</code></p>
<p> % and <code>%</code></p>
<p>[^note-id]</p>
<p> <code>[ TOC ]</code></p>
<h4 id="Separation-line"><a href="#Separation-line" class="headerlink" title="Separation line"></a><strong>Separation line</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">****</span><br><span class="line">----</span><br><span class="line">____</span><br></pre></td></tr></table></figure>
<h2 id=""><a href="#" class="headerlink" title="**"></a><em>**</em></h2><hr>
<h4 id="Blockquotes"><a href="#Blockquotes" class="headerlink" title="Blockquotes"></a><strong>Blockquotes</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; Here is some indented text</span><br><span class="line">&gt;&gt; even more indented</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Here is some indented text</p>
<blockquote>
<p>even more indented</p>
</blockquote>
</blockquote>
<h4 id="Example-lists"><a href="#Example-lists" class="headerlink" title="Example lists"></a><strong>Example lists</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- bullet list 1</span><br><span class="line"> - bullet list 2</span><br><span class="line">    - sub item 1</span><br><span class="line">    - sub item 2</span><br><span class="line"></span><br><span class="line"> - bullet list 3</span><br><span class="line"> + bullet list 4</span><br><span class="line"> * bullet list 5</span><br></pre></td></tr></table></figure>
<ul>
<li><p>bullet list 1</p>
<ul>
<li><p>bullet list 2</p>
<ul>
<li>sub item 1</li>
<li>sub item 2</li>
</ul>
</li>
<li><p>bullet list 3</p>
</li>
</ul>
<ul>
<li>bullet list 4</li>
</ul>
<ul>
<li>bullet list 5</li>
</ul>
</li>
</ul>
<h4 id="Links"><a href="#Links" class="headerlink" title="Links"></a><strong>Links</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[example inline link](http://lmgtfy.com/)</span><br><span class="line">[another one with a title](http://lmgtfy.com/ &quot;Hello, world&quot;)</span><br><span class="line"></span><br><span class="line">[reference 1][ref1] or [reference 2 with title][ref2]</span><br><span class="line">References are usually placed at the bottom of the document.</span><br></pre></td></tr></table></figure>
<p><a href="http://lmgtfy.com/" target="_blank" rel="external">example inline link</a></p>
<p><a href="http://lmgtfy.com/" title="Hello, world" target="_blank" rel="external">another one with a title</a></p>
<p>[reference 1][ref1] or [reference 2 with title][ref2]</p>
<p>References are usually placed at the bottom of the document.</p>
<h4 id="Images"><a href="#Images" class="headerlink" title="Images"></a><strong>Images</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![revolunet logo](http://www.revolunet.com/static/parisjs8/img/logo-revolunet-carre.jpg &quot;revolunet logo&quot;)</span><br><span class="line">![revolunet logo][revolunet-logo]</span><br></pre></td></tr></table></figure>
<p><img src="http://www.revolunet.com/static/parisjs8/img/logo-revolunet-carre.jpg" alt="revolunet logo" title="revolunet logo"></p>
<p>![revolunet logo][revolunet-logo]</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a><strong>Code</strong></h4><p>‘with tab indentation’ or ‘4 spaces’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    document.location = &apos;http://lmgtfy.com/?q=markdown+cheat+sheet&apos;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<pre><code>&lt;script&gt;
    document.location = &apos;http://lmgtfy.com/?q=markdown+cheat+sheet&apos;;
&lt;/script&gt;
</code></pre><h4 id="Emoji"><a href="#Emoji" class="headerlink" title="Emoji"></a><strong>Emoji</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:+1: :heart: :beer: :smile:</span><br></pre></td></tr></table></figure>
<p><a href="http://www.emoji-cheat-sheet.com/" target="_blank" rel="external">emoji cheatsheet</a></p>
<p>:+1:<br>:heart:<br>:beer:<br>:smile:</p>
<h4 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a><strong>Tables</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| Year | Temperature (low) | Temperature (high) |  </span><br><span class="line">| ---- | ----------------- | -------------------|  </span><br><span class="line">| 1900 |               -10 |                 25 |  </span><br><span class="line">| 1910 |               -15 |                 30 |  </span><br><span class="line">| 1920 |               -10 |                 32 |</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>Year</th>
<th>Temperature (low)</th>
<th>Temperature (high)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1900</td>
<td>-10</td>
<td>25</td>
</tr>
<tr>
<td>1910</td>
<td>-15</td>
<td>30</td>
</tr>
<tr>
<td>1920</td>
<td>-10</td>
<td>32</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|| *Year* || *Temperature (low)* || *Temperature (high)* ||  </span><br><span class="line">||   1900 ||                 -10 ||                   25 ||  </span><br><span class="line">||   1910 ||                 -15 ||                   30 ||  </span><br><span class="line">||   1920 ||                 -10 ||                   32 ||</span><br></pre></td></tr></table></figure>
<p>|| <em>Year</em> || <em>Temperature (low)</em> || <em>Temperature (high)</em> ||<br>||——–||———————||———————-||<br>||   1900 ||                 -10 ||                   25 ||<br>||   1910 ||                 -15 ||                   30 ||<br>||   1920 ||                 -10 ||                   32 ||  </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tools/">tools</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-mvc-Angularjs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/09/mvc-Angularjs/" class="article-date">
  	<time datetime="2015-09-09T07:00:00.000Z" itemprop="datePublished">2015-09-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/09/mvc-Angularjs/">SPA and MVC in AngularJS</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Extract from the book of Pro AngularJS—Adam Freeman</p>
<h4 id="Round-Trip-App-vs-Single-Page-App"><a href="#Round-Trip-App-vs-Single-Page-App" class="headerlink" title="Round-Trip App vs Single Page App"></a>Round-Trip App vs Single Page App</h4><p><strong>Round-trip App</strong>:The browser requests an initial HTML document from the server. User interactions-such as clicking a link or submitting a form-led the browser to request and receive a completely new HTML document. In this kind of application, the browser is essentially a rending engine for HTML content, and all of the applicaation logic and data resides on the server. The browser makes a series of stateless HTTP requests that the server handles by generating HTML documents danamically.</p>
<p><strong>Serious drawbacks to round-trip apps</strong> : They make the user wait while the next HTML document is requested and roaded, they require a large server-side infrastructure to process all of the requests and manage all of the application state, and they require a lot of bandwidth because each HTML document has to be self-contained(a lot of same content-like header, footer- being included in each response from the server)</p>
<p><strong>Single page application(SPA)</strong>: An initial HTML document is sent to the browser, but user interactions lead to Ajax requests for small fragments of HTML or data inserted into the existing set of elements being displayed to the user. The initial HTML document is never be reloaded or replaced, and the user can continue to interact with the existing HTML while the Ajax requests are being performed asychronously, even if that just means seeing a “data loading” message.<br>Ther is gradual tendency for current web app projects to move toward the single page application model, because the benefits of using the MVC pattern really start to manifest themselves in larger and more complex projects.</p>
<p>####Understanding the MVC Pattern<br>The key to applying the MVC pattern is to implement the key premise of a <em>separation of concerns</em>, in which the data model in the application is decoupled from the business and presentation logic. In the client-side web development, <strong>this means separating the data, the logic that oprates on that data, and the HTML elements used to display the data.</strong> The result is a client-side application that is easier to develop,maintain and test.</p>
<p><strong>Models</strong>—the M in MVC,contains the data that users work with. There are two broad types of model. <strong>view models</strong>, which represent just data passed from the controller to the view, and <strong>domian models</strong>, which contain the data in a business domain, along with the operations, transformation, and rules for creating, storing and manipulating that data, collectively referred to as the model logic.</p>
<blockquote>
<p><strong>A model should:</strong></p>
<ul>
<li>Contain domain data</li>
<li>Contain the logic for creating,managing and modifying the domain data </li>
<li>Provide a clean API that exposes the model data and operations on it  </li>
</ul>
<p><strong>should not:</strong></p>
<ul>
<li>Expose details of how the model data is obtained or managed( in other words, details of the data storage mechanism or the remote web<br>service should not be exposed to controllers and views)</li>
<li>Contain logic that transforms the model based on user interaction( because this is the controller’s job)</li>
<li>Contain logic for displaying to the user( this is the view’s job)</li>
</ul>
</blockquote>
<p><strong>Controllers</strong> are the connective tissue in an AngularJS web application, acting as conduits between the data model and views. Controllers add business logic(known as behavior) to scopes, which are subsets of the model.</p>
<blockquote>
<p><strong>A controller should:</strong></p>
<ul>
<li>Contain the logic required to initialize the scope</li>
<li>Contain the logic/behaviors required by the view to present data from the scope</li>
<li>Contain the logic/behaviors required to update the scope based on the user interaction      </li>
</ul>
<p><strong>Should not:</strong></p>
<ul>
<li>Contain logic that manipulates the DOM (that is the job of the view)</li>
<li>Contain logic that manages the persistence of data (that is the job of the model)</li>
<li>Manipulate data outside of the scope</li>
</ul>
</blockquote>
<p><strong>Views</strong> are defined using HTML elements that are enhanced and that generate HTML by the use of data bindings and directives. It is the AngularJS directives that make views so flexible, and they transform HTML elements into the foundation for dynamic web apps.</p>
<blockquote>
<p><strong>Virws should:</strong></p>
<ul>
<li><p>Contain the logic and markup required to present data to the user<br><strong>Should not:</strong></p>
</li>
<li><p>Contain complex logic （this is better placed in a controller)</p>
</li>
<li>Contain logic that creates, stores or manipulates the domain model</li>
</ul>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angularjs/">angularjs</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-this-in-javascript" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/08/this-in-javascript/" class="article-date">
  	<time datetime="2015-09-08T07:00:00.000Z" itemprop="datePublished">2015-09-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/08/this-in-javascript/">this in JavaScript</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://javascriptissexy.com/understand-javascripts-this-with-clarity-and-master-it/" target="_blank" rel="external">Extrct form JavaScriptissexy</a></p>
<p>Note that when we use <code>strict mode</code>, this holds the value of undefined in global functions and in anonymous functions that are not bound to any object.</p>
<blockquote>
<p>Even though it appears <em>this</em> refers to the object where it is<br>defined, it is not until an object invokes the this Function that<br><em>this</em> is actually assigned a value. And the value it is assigned is based exclusively on the object that invokes the this Function. <em>this</em><br>has the value of the invoking object in most circumstances. However,<br>there are a few scenarios where <em>this</em> does not have the value of the<br>invoking object.</p>
</blockquote>
<p><strong>The use of <em>this</em> in the global scope</strong><br>when we use <em>this</em> in a global function, it refers to (and has the value of) the global window object (not in strict mode though, as noted earlier) that is the main container of the entire JavaScript application or web page.</p>
<p><strong>When <em>this</em> is most misunderstood and becomes tricky</strong><br>The this keyword is most misunderstood when we borrow a method that uses <em>this</em>, when we assign a method that uses this to a variable, when a function that uses <em>this</em> is <code>passed as a callback function</code>, and when this is used inside a closure—an inner function. </p>
<p><a href="http://javascriptissexy.com/understand-javascripts-this-with-clarity-and-master-it/" target="_blank" rel="external"><strong>4 Examples need to digest for future use</strong></a></p>
<p><strong>Always remember that <em>this</em> is assigned the value of the object that invoked the this Function.</strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-javascript-prototype" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/07/javascript-prototype/" class="article-date">
  	<time datetime="2015-09-07T07:00:00.000Z" itemprop="datePublished">2015-09-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/07/javascript-prototype/">JavaScript Prototype</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://javascriptissexy.com/javascript-prototype-in-plain-detailed-language/" target="_blank" rel="external">Extract from javascriptissexy</a></p>
<ol>
<li><p><strong>Every JavaScript function has a prototype property</strong> (this property is empty by default), and you attach properties and methods on this prototype property when you want to implement inheritance. Firefox and most versions of Safari and Chrome have a <em>proto</em> “pseudo” property, you should know that it exists and it is simply a way to access an object’s prototype property in some browsers</p>
</li>
<li><p>The second concept with prototype in JavaScript is the <strong>prototype attribute</strong>.An object’s prototype attribute points to the object’s “parent”—the object it inherited its properties from. <strong>To expound on this:</strong> Every object inherits properties from some other object, and it is this other object that is the object’s prototype attribute or “parent”.</p>
</li>
</ol>
<blockquote>
<p>A constructor is a function used for initializing new objects, and you<br>use the new keyword to call the constructor.Moreover, all objects that<br>inherit from another object also inherit a constructor property. And<br>this constructor property is simply a property (like any variable)<br>that holds or points to the constructor of the object.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//The constructor in this example is Object ()</span></span><br><span class="line"><span class="keyword">var</span> myObj = <span class="keyword">new</span> <span class="built_in">Object</span> ();</span><br><span class="line"><span class="comment">// And if you later want to find the myObj constructor:</span></span><br><span class="line"><span class="built_in">console</span>.log(myObj.constructor); <span class="comment">// Object()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Another example: Account () is the constructor</span></span><br><span class="line"><span class="keyword">var</span> userAccount = <span class="keyword">new</span> Account (); </span><br><span class="line"><span class="comment">// Find the userAccount object's constructor</span></span><br><span class="line"><span class="built_in">console</span>.log(userAccount.constructor); <span class="comment">// Account()</span></span><br></pre></td></tr></table></figure>
<p><strong>Prototype Attribute of Objects Created with new Object () or Object Literal</strong><br>All objects created with object literals and with the Object constructor inherits from Object.prototype. Therefore, Object.prototype is the prototype attribute (or the prototype object) of all objects created with new Object () or with {}. Object.prototype itself does not inherit any methods or properties from any other object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// The userAccount object inherits from Object and as such its prototype attribute is Object.prototype.</span></span><br><span class="line">    <span class="keyword">var</span> userAccount = <span class="keyword">new</span> <span class="built_in">Object</span> ();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// This demonstrates the use of an object literal to create the userAccount object; the userAccount object inherits from Object; therefore, its prototype attribute is Object.prototype just as the userAccount object does above.</span></span><br><span class="line">    <span class="keyword">var</span> userAccount = &#123;name: “Mike”&#125; </span><br><span class="line"><span class="string">``</span><span class="string">` </span><br><span class="line"></span><br><span class="line">**Prototype Attribute of Objects Created With a Constructor Function**</span><br><span class="line">Objects created with the new keyword and any constructor other than the Object () constructor, get their prototype from the constructor function.</span><br><span class="line"></span><br><span class="line">`</span><span class="string">``</span>javascript</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Account</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> userAccount = <span class="keyword">new</span> Account () <span class="comment">// userAccount initialized with the Account () constructor and as such its prototype attribute (or prototype object) is Account.prototype.</span></span><br></pre></td></tr></table></figure>
<p>Similarly, any array such as var myArray = new Array (), gets its prototype from Array.prototype and it inherits Array.prototype’s properties.</p>
<p><strong>So, there are two general ways an object’s prototype attribute is set when an object is created</strong>:</p>
<ol>
<li>If an object is created with an <code>object literal (var newObj = {})</code>, it <code>inherits properties from Object.prototype</code> and we say its prototype object (or prototype attribute) is Object.prototype.</li>
<li>If an object is created from a constructor function such as <code>new Object ()</code>, new Fruit () or new Array () or new Anything (), it <code>inherits from that constructor</code> (Object (), Fruit (), Array (), or Anything ()).<br><strong>For example</strong>, with a function such as Fruit (), each time we create a new instance of Fruit (var aFruit = new Fruit ()), the new instance’s prototype is assigned the prototype from the Fruit constructor, which is Fruit.prototype.Any object that was created with new Array () will have Array.prototype as its prototype. An object created with new Fruit () will have Fruit.prototype as its prototype. And any object created with the Object constructor (Obj (), such as var anObj = new Object() ) inherits from Object.prototype.</li>
</ol>
<p>It is important to know that in ECMAScript 5, you can create objects with an Object.create() method that allows you to set the new object’s prototype object. </p>
<p>###Why is Prototype Important and When is it Used?<br>These are two important ways the prototype is used in JavaScript, as we noted above:</p>
<p><strong>1. Prototype Property: Prototype-based Inheritance</strong><br>Prototype is important in JavaScript because JavaScript does not have classical inheritance based on Classes (as most object oriented languages do), and therefore all inheritance in JavaScript is made possible through the prototype property. JavaScript has a prototype-based inheritance mechanism.Inheritance is a <code>programming paradigm</code> where <code>objects</code> (or Classes in some languages) <code>can inherit properties and methods from other objects</code> (or Classes). In JavaScript, you implement inheritance with the prototype property. For example, you can create a Fruit function (an object, since all functions in JavaScript are objects) and add properties and methods on the Fruit prototype property, and all instances of the Fruit function will inherit all the Fruit’s properties and methods.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Plant</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">​<span class="keyword">this</span>.country = <span class="string">"Mexico"</span>;</span><br><span class="line">​<span class="keyword">this</span>.isOrganic = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Add the showNameAndColor method to the Plant prototype property​</span></span><br><span class="line">Plant.prototype.showNameAndColor =  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am a "</span> + <span class="keyword">this</span>.name + <span class="string">" and my color is "</span> + <span class="keyword">this</span>.color);</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Add the amIOrganic method to the Plant prototype property​</span></span><br><span class="line">Plant.prototype.amIOrganic = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">​<span class="keyword">if</span> (<span class="keyword">this</span>.isOrganic)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am organic, Baby!"</span>);</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">Fruit</span> (<span class="params">fruitName, fruitColor</span>) </span>&#123;</span><br><span class="line">​<span class="keyword">this</span>.name = fruitName;</span><br><span class="line">​<span class="keyword">this</span>.color = fruitColor;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Set the Fruit's prototype to Plant's constructor, thus inheriting all of Plant.prototype methods and properties.​</span></span><br><span class="line">Fruit.prototype = <span class="keyword">new</span> Plant ();</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Creates a new object, aBanana, with the Fruit constructor​</span></span><br><span class="line">​<span class="keyword">var</span> aBanana = <span class="keyword">new</span> Fruit (<span class="string">"Banana"</span>, <span class="string">"Yellow"</span>);</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Here, aBanana uses the name property from the aBanana object prototype, which is Fruit.prototype:​</span></span><br><span class="line"><span class="built_in">console</span>.log(aBanana.name); <span class="comment">// Banana​</span></span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Uses the showNameAndColor method from the Fruit object prototype, which is Plant.prototype. The aBanana object inherits all the properties and methods from both the Plant and Fruit functions.​</span></span><br><span class="line"><span class="built_in">console</span>.log(aBanana.showNameAndColor()); <span class="comment">// I am a Banana and my color is yellow.</span></span><br></pre></td></tr></table></figure>
<p>Indeed, any object that uses the Fruit () constructor will inherit all the Fruit.prototype properties and methods and all the properties and methods from the Fruit’s prototype, which is Plant.prototype. <strong>This is the principal manner in which inheritance is implemented in JavaScript</strong> and the integral role the prototype chain has in the process.</p>
<p><strong>2. Prototype Attribute: Accessing Properties on Objects</strong></p>
<p>Prototype is also important for accessing properties and methods of objects. The prototype attribute (or prototype object) of any object is the “parent” object where the inherited properties were originally defined.This is loosely analogous to the way you might inherit your surname from your father—he is your “prototype parent.” If we wanted to find out where your surname came from, we would first check to see if you created it yourself; if not, the search will move to your prototype parent to see if you inherited it from him. If it was not created by him, the search continues to his father (your father’s prototype parent).<br>Similarly, if you want to access a property of an object, the search for the property begins directly on the object. If the JS runtime can’t find the property there, it then looks for the property on the object’s prototype—the object it inherited its properties from.<br>If the property is not found on the object’s prototype, the search for the property then moves to prototype of the object’s prototype (the father of the object’s father—the grandfather). And this continues until there is no more prototype (no more great-grand father; no more lineage to follow). <strong>This in essence is the prototype chain: the chain from an object’s prototype to its prototype’s prototype and onwards.</strong> And JavaScript uses this prototype chain to look for properties and methods of an object.<br>If the property does not exist on any of the object’s prototype in its prototype chain, then the property does not exist and undefined is returned.</p>
<p>This prototype chain mechanism is essentially the same concept we have discussed above with the prototype-based inheritance, except we are now focusing specifically on how JavaScript accesses object properties and methods via the prototype object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFriends = &#123;name: <span class="string">"Pete"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// To find the name property below, the search will begin directly on the myFriends object and will immediately find the name property because we defined the property name on the myFriend object. This could be thought of as a prototype chain with one link.</span></span><br><span class="line"><span class="built_in">console</span>.log(myFriends.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// In this example, the search for the toString () method will also begin on the myFriends’ object, but because we never created a toString method on the myFriends object, the compiler will then search for it on the myFriends prototype (the object which it inherited its properties from).</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// And since all objects created with the object literal inherits from Object.prototype, the toString method will be found on Object.prototype—see important note below for all properties inherited from Object.prototype. </span></span><br><span class="line"></span><br><span class="line">myFriends.toString ();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Object.prototype Properties Inherited by all Objects All objects in<br>JavaScript inherit properties and methods from Object.prototype. These<br>inherited properties and methods are constructor, hasOwnProperty (),<br>isPrototypeOf (), propertyIsEnumerable (), toLocaleString (), toString<br>(), and valueOf (). ECMAScript 5 also adds 4 accessor methods to<br>Object.prototype.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.superstar = <span class="string">"Michael Jackson"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Define "athlete" property on the People prototype so that "athlete" is accessible by all objects that use the People () constructor.</span></span><br><span class="line">People.prototype.athlete = <span class="string">"Tiger Woods"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> famousPerson = <span class="keyword">new</span> People ();</span><br><span class="line">famousPerson.superstar = <span class="string">"Steve Jobs"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The search for superstar will first look for the superstar property on the famousPerson object, and since we defined it there, that is the property that will be used. Because we have overwritten the famousPerson’s superstar property with one directly on the famousPerson object, the search will NOT proceed up the prototype chain. </span></span><br><span class="line"><span class="built_in">console</span>.log (famousPerson.superstar); <span class="comment">// Steve Jobs</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Note that in ECMAScript 5 you can set a property to read only, and in that case you cannot overwrite it as we just did.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This will show the property from the famousPerson prototype (People.prototype), since the athlete property was not defined on the famousPerson object itself.​</span></span><br><span class="line"><span class="built_in">console</span>.log (famousPerson.athlete); <span class="comment">// Tiger Woods</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// In this example, the search proceeds up the prototype chain and find the toString method on Object.prototype, from which the Fruit object inherited—all objects ultimately inherits from Object.prototype as we have noted before.</span></span><br><span class="line"><span class="built_in">console</span>.log (famousPerson.toString()); <span class="comment">// [object Object]</span></span><br></pre></td></tr></table></figure>
<p>All built-in constructors (Array (), Number (), String (), etc.) were created from the Object constructor, and as such their prototype is Object.prototype.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-oop-in-js" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/07/oop-in-js/" class="article-date">
  	<time datetime="2015-09-07T07:00:00.000Z" itemprop="datePublished">2015-09-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/07/oop-in-js/">Object Oriented Programming</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://javascriptissexy.com/oop-in-javascript-what-you-need-to-know/" target="_blank" rel="external">Extract form JavaScriptissexy</a></p>
<p><strong>Object Oriented Programming (OOP)</strong> refers to using self-contained pieces of code to develop applications. We call these self-contained pieces of code objects, better known as Classes in most OOP programming languages and Functions in JavaScript.<br>Building applications with objects allows us to adopt some valuable techniques, namely, <strong>Inheritance</strong> (objects can inherit features from other objects), <strong>Polymorphism</strong> (objects can share the same interface—how they are accessed and used—while their underlying implementation of the interface may differ), and <strong>Encapsulation</strong> (each object is responsible for specific tasks).<br>In this article, we are concerned with only <strong>Inheritance and Encapsulation</strong> <strong>since only these two concepts apply to OOP in JavaScript</strong>, particularly because, in JavaScript, objects can encapsulate functionalities and inherit methods and properties from other objects.These two techniques: the best technique for creating objects with specialized functionalities (aka Encapsulation) and the best technique for reusing code (aka Inheritance).</p>
<h3 id="Encapsulation-and-Inheritance-Overview"><a href="#Encapsulation-and-Inheritance-Overview" class="headerlink" title="Encapsulation and Inheritance Overview"></a>Encapsulation and Inheritance Overview</h3><p><strong>Objects</strong> can be thought of as the main actors in an application, or simply the main “things” or building blocks that do all the work. As you know by now, objects are everywhere in JavaScript since every component in JavaScript is an Object, including Functions, Strings, and Numbers. We normally use object literals or constructor functions to create objects.</p>
<p><strong>Encapsulation</strong> refers to enclosing all the functionalities of an object within that object so that the object’s internal workings (its methods and properties) are hidden from the rest of the application. This allows us to abstract or localize specific set of functionalities on objects.</p>
<p><strong>Inheritance</strong> refers to an object being able to inherit methods and properties from a parent object (a Class in other OOP languages, or a Function in JavaScript).</p>
<p><strong>Both of these concepts, encapsulation and inheritance, are important because they allow us to build applications with reusable code, scalable architecture, and abstracted functionalities. Maintainable, scalable, efficient.</strong></p>
<h3 id="OOP-in-JavaScript"><a href="#OOP-in-JavaScript" class="headerlink" title="OOP in JavaScript"></a>OOP in JavaScript</h3><p>The two important principles with OOP in JavaScript are <strong>Object Creation patterns (Encapsulation) and Code Reuse patterns (Inheritance)</strong>. When building applications, you create many objects, and there exist many ways for creating these objects: you can use the ubiquitous object literal pattern,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> myObj = &#123;name: <span class="string">"Richard"</span>, profession: <span class="string">"Developer"</span>&#125;; </span><br><span class="line">    </span><br><span class="line">You can use the prototype pattern, adding each method and property directly on the object’s prototype.</span><br><span class="line"></span><br><span class="line">    function Employee () &#123;&#125;</span><br><span class="line">    ​</span><br><span class="line">    Employee.prototype.firstName = <span class="string">"Abhijit"</span>;</span><br><span class="line">    Employee.prototype.lastName = <span class="string">"Patel"</span>;</span><br><span class="line">    Employee.prototype.startDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    Employee.prototype.signedNDA = <span class="literal">true</span>;</span><br><span class="line">    Employee.prototype.fullName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log (<span class="keyword">this</span>.firstName + <span class="string">" "</span> + <span class="keyword">this</span>.lastName); </span><br><span class="line">    &#125;;</span><br><span class="line">    ​</span><br><span class="line">    ​<span class="keyword">var</span> abhijit = <span class="keyword">new</span> Employee () <span class="comment">//​</span></span><br><span class="line">    <span class="built_in">console</span>.log(abhijit.fullName()); <span class="comment">// Abhijit Patel​</span></span><br><span class="line">    <span class="built_in">console</span>.log(abhijit.signedNDA); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>You can also use the constructor pattern, a constructor function (Classes in other languages, but Functions in JavaScript).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Employee</span> (<span class="params">name, profession</span>) </span>&#123;</span><br><span class="line">​<span class="keyword">this</span>.name = name;</span><br><span class="line">​<span class="keyword">this</span>.profession = profession;</span><br><span class="line">&#125; <span class="comment">// Employee () is the constructor function because we use the &lt;em&gt;new&lt;/em&gt; keyword below to invoke it.​</span></span><br><span class="line">​</span><br><span class="line">​<span class="keyword">var</span> richard = <span class="keyword">new</span> Employee (“Richard”, “Developer”) <span class="comment">// richard is a new object we create from the Employee () constructor function.​</span></span><br><span class="line">​</span><br><span class="line"><span class="built_in">console</span>.log(richard.name); <span class="comment">//richard​</span></span><br><span class="line"><span class="built_in">console</span>.log(richard.profession); <span class="comment">// Developer</span></span><br></pre></td></tr></table></figure>
<p>These two universal principles—<strong>creating objects</strong> (especially from constructor Functions) and <strong>allowing objects to inherit properties and methods</strong>—are the main focus of this article and, indeed, <strong>the main concepts with OOP in JavaScript.</strong> We first discuss the object creation pattern.</p>
<h3 id="Encapsulation-in-JavaScript"><a href="#Encapsulation-in-JavaScript" class="headerlink" title="Encapsulation in JavaScript"></a>Encapsulation in JavaScript</h3><h5 id="The-Best-Object-Creation-Pattern-Combination-Constructor-Prototype-Pattern"><a href="#The-Best-Object-Creation-Pattern-Combination-Constructor-Prototype-Pattern" class="headerlink" title="(The Best Object Creation Pattern: Combination Constructor/Prototype Pattern)"></a>(The Best Object Creation Pattern: Combination Constructor/Prototype Pattern)</h5><p>As discussed above, one of the main principles <strong>with OOP is encapsulation</strong>: put all the inner workings of an object inside that object. </p>
<p><strong>Why Encapsulation?</strong><br>whenever you want to create objects with similar functionalities (to use the same methods and properties), you encapsulate the main functionalities in a Function and you use that Function’s constructor to create the objects. This is the <code>essence</code> of encapsulation.<br><strong>Implementation of Combination Constructor/Prototype Pattern</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span> (<span class="params">theName, theEmail</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = theName;</span><br><span class="line">    <span class="keyword">this</span>.email = theEmail;</span><br><span class="line">    <span class="keyword">this</span>.quizScores = [];</span><br><span class="line">    <span class="keyword">this</span>.currentScore = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">User.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: User, //have to set manually,since <span class="keyword">constructor</span> property changes </span><br><span class="line">    saveScore:function (theScoreToAdd)  &#123;</span><br><span class="line">        <span class="keyword">this</span>.quizScores.push(theScoreToAdd)</span><br><span class="line">    &#125;,</span><br><span class="line">    showNameAndScores:<span class="function"><span class="keyword">function</span> (<span class="params"></span>)  </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> scores = <span class="keyword">this</span>.quizScores.length &gt; <span class="number">0</span> ? <span class="keyword">this</span>.quizScores.join(<span class="string">","</span>) : <span class="string">"No Scores Yet"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">" Scores: "</span> + scores;</span><br><span class="line">    &#125;,</span><br><span class="line">    changeEmail:<span class="function"><span class="keyword">function</span> (<span class="params">newEmail</span>)  </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.email = newEmail;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"New Email Saved: "</span> + <span class="keyword">this</span>.email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A User ​</span></span><br><span class="line">firstUser = <span class="keyword">new</span> User(<span class="string">"Richard"</span>, <span class="string">"Richard@examnple.com"</span>); </span><br><span class="line">firstUser.changeEmail(<span class="string">"RichardB@examnple.com"</span>);</span><br><span class="line">firstUser.saveScore(<span class="number">15</span>);</span><br><span class="line">firstUser.saveScore(<span class="number">10</span>); </span><br><span class="line">​</span><br><span class="line">firstUser.showNameAndScores(); <span class="comment">//Richard Scores: 15,10​</span></span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Another User​</span></span><br><span class="line">secondUser = <span class="keyword">new</span> User(<span class="string">"Peter"</span>, <span class="string">"Peter@examnple.com"</span>);</span><br><span class="line">secondUser.saveScore(<span class="number">18</span>);</span><br><span class="line">secondUser.showNameAndScores(); <span class="comment">//Peter Scores: 18</span></span><br></pre></td></tr></table></figure>
<p><em>The one <strong>disadvantage</strong> of overwriting the prototype is that the constructor property no longer points to the prototype, so we have to set it manually. Hence this line:</em><br>With this pattern, you can use the standard operators and methods on the instances, including the instanceOf operator, the for-in loop (even hasOwnProperty), and the constructor property.</p>
<h3 id="Inheritance-in-JavaScript"><a href="#Inheritance-in-JavaScript" class="headerlink" title="Inheritance in JavaScript"></a>Inheritance in JavaScript</h3><h5 id="The-Best-Pattern-Parasitic-Combination-Inheritance"><a href="#The-Best-Pattern-Parasitic-Combination-Inheritance" class="headerlink" title="(The Best Pattern: Parasitic Combination Inheritance)"></a>(The Best Pattern: Parasitic Combination Inheritance)</h5><p><strong>Object.create method</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.create = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</span><br><span class="line">​<span class="comment">//It creates a temporary constructor F()​</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">​<span class="comment">//And set the prototype of the this constructor to the parametric (passed-in) o object​</span></span><br><span class="line">​<span class="comment">//so that the F() constructor now inherits all the properties and methods of o​</span></span><br><span class="line">        F.prototype = o;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">//Then it returns a new, empty object (an instance of F())​</span></span><br><span class="line">​<span class="comment">//Note that this instance of F inherits from the passed-in (parametric object) o object. ​</span></span><br><span class="line">​<span class="comment">//Or you can say it copied all of the o object's properties and methods​</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>The crux of the matter with this Object.create method is that you pass into it an object that you want to inherit from, and it returns a new object that inherits from the object you passed into it. For example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We have a simple cars object​</span></span><br><span class="line">​<span class="keyword">var</span> cars = &#123;</span><br><span class="line">    type:<span class="string">"sedan"</span>,</span><br><span class="line">    wheels:<span class="number">4</span>​</span><br><span class="line">&#125;;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// We want to inherit from the cars object, so we do:​</span></span><br><span class="line">​<span class="keyword">var</span> toyota = <span class="built_in">Object</span>.create (cars); <span class="comment">// now toyota inherits the properties from cars​</span></span><br><span class="line"><span class="built_in">console</span>.log(toyota.type); <span class="comment">// sedan</span></span><br></pre></td></tr></table></figure>
<p>The next function we will use for inheritance is the <strong>inheritPrototype</strong> function. <strong>This function succinctly implements the parasitic combination inheritance for us.</strong> We pass in the parent object (or Super Class) and the child object (or Sub Class), and the function does the parasitic combination inheritance: makes the child object inherits from the parent object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">childObject, parentObject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// As discussed above, we use the Crockford’s method to copy the properties and methods from the parentObject onto the childObject​</span></span><br><span class="line">​<span class="comment">// So the copyOfParent object now has everything the parentObject has ​</span></span><br><span class="line">    <span class="keyword">var</span> copyOfParent = <span class="built_in">Object</span>.create(parentObject.prototype);</span><br><span class="line">​</span><br><span class="line">    <span class="comment">//Then we set the constructor of this new object to point to the childObject.​</span></span><br><span class="line">​<span class="comment">// Why do we manually set the copyOfParent constructor here, see the explanation immediately following this code block.​</span></span><br><span class="line">    copyOfParent.constructor = childObject;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">// Then we set the childObject prototype to copyOfParent, so that the childObject can in turn inherit everything from copyOfParent (from parentObject)​</span></span><br><span class="line">   childObject.prototype = copyOfParent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="Why-did-we-manually-set-the-copyOfParent-constructor"><a href="#Why-did-we-manually-set-the-copyOfParent-constructor" class="headerlink" title="Why did we manually set the copyOfParent.constructor?"></a>Why did we manually set the copyOfParent.constructor?</h6><p>We explicitly set the copyOfParent.constructor property to point to the childObject constructor because in the preceding step, var copyOfParent = Object.create(parentObject.prototype), this is what we actually did:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We made a new object and overwrote its prototype with the parentObject prototype:​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">F.prototype = parentObject.prototype;</span><br><span class="line">​<span class="comment">// Then it was this new F object we assigned to copyOfParent.​</span></span><br><span class="line">​<span class="comment">// All of this was done inside the Object.create () method.</span></span><br></pre></td></tr></table></figure>
<p>So, this new F object, which we assigned to copyOfParent, doesn’t have a constructor property anymore because we overwrote its entire prototype. <strong>Whenever you overwrite an object’s prototype (object.prototype = someVal), you also overwrite the object’s constructor property.</strong><br>To make sure we have the correct value for copyOfParent constructor, we set it manually with this: <code>copyOfParent.constructor = childObject;</code></p>
<blockquote>
<p>Essentially, we are copying all the properties and methods from the<br>parentObject to the childObject, but we are <strong>using the copyOfParent as<br>an intermediary</strong> for the copy. And because the childObject prototype<br>was overwritten during the copy, we manually set the copyOfParent<br>constructor to the childObject. Then we set the childObject prototype<br>to the copyOfParent so that the childObject inherits from the<br>parentObject.</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-js-callbacks" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/04/js-callbacks/" class="article-date">
  	<time datetime="2015-09-04T07:00:00.000Z" itemprop="datePublished">2015-09-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/04/js-callbacks/">Understand JavaScript Callback Functions and Use Them</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/" target="_blank" rel="external">Learn JavaScript Higher-order Functions, aka Callback Functions by Richard Bovell</a></p>
<p>In JavaScript, functions are first-class objects; that is, functions are of the type Object and they can be used in a first-class manner like any other object (String, Array, Number, etc.) since they are in fact objects themselves. They can be “stored in variables, passed as arguments to functions, created within functions, and returned from functions”</p>
<blockquote>
<p>Because functions are first-class objects, we can pass a function as<br>an argument in another function and later execute that passed-in<br>function or even return it to be executed later. This is the essence<br>of using callback functions in JavaScript.</p>
</blockquote>
<p>In the rest of this article we will learn everything about JavaScript callback functions. Callback functions are probably the most widely used functional programming technique in JavaScript, and you can find them in just about every piece of JavaScript and jQuery code, yet they remain mysterious to many JavaScript developers. The mystery will be no more, by the time you finish reading this article. </p>
<p><strong>Callback functions are derived from a programming paradigm known as functional programming. At a fundamental level, functional programming specifies the use of functions as arguments.</strong> Functional programming was—and still is, though to a much lesser extent today—seen as an esoteric technique of specially trained, master programmers.</p>
<p>Fortunately, the techniques of functional programming have been elucidated so that mere mortals like you and me can understand and use them with ease. One of the chief techniques in functional programming happens to be callback functions. As you will read shortly, implementing callback functions is as easy as passing regular variables as arguments. This technique is so simple that I wonder why it is mostly covered in advanced JavaScript topics.</p>
<p><strong>What is a Callback or Higher-order Function?</strong></p>
<p>A callback function, also known as a higher-order function, is a function that is passed to another function (let’s call this other function “otherFunction”) as a parameter, and the callback function is called (or executed) inside the otherFunction. A callback function is essentially a pattern (an established solution to a common problem), and therefore, the use of a callback function is also known as a callback pattern.</p>
<p>Consider this common use of a callback function in jQuery:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Note that the item in the click method's parameter is a function, not a variable.​</span></span><br><span class="line"><span class="comment">//The item is a callback function</span></span><br><span class="line">$(<span class="string">"#btn_1"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"Btn 1 Clicked"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>As you see in the preceding example, we pass a function as a parameter to the click method. And the click method will call (or execute) the callback function we passed to it. This example illustrates a typical use of callback functions in JavaScript, and one widely used in jQuery.</p>
<p>Ruminate on this other classic example of callback functions in basic JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> friends = [<span class="string">"Mike"</span>, <span class="string">"Stacy"</span>, <span class="string">"Andy"</span>, <span class="string">"Rick"</span>];</span><br><span class="line">friends.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">eachName, index</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(index + <span class="number">1</span> + <span class="string">". "</span> + eachName); <span class="comment">// 1. Mike, 2. Stacy, 3. Andy, 4. Rick​</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Again, note the way we pass an anonymous function (a function without a name) to the forEach method as a parameter.</p>
<p><strong>So far we have passed anonymous functions as a parameter to other functions or methods.</strong> Lets now understand how callbacks work before we look at more concrete examples and start making our own callback functions.</p>
<p><strong>How Callback Functions Work?</strong><br>We can pass functions around like variables and return them in functions and use them in other functions. </p>
<p><strong>When we pass a callback function as an argument to another function, we are only passing the function definition. We are not executing the function in the parameter. In other words, we aren’t passing the function with the trailing pair of executing parenthesis () like we do when we are executing a function.</strong></p>
<p>And since the containing function has the callback function in its parameter as a function definition, it can execute the callback anytime.</p>
<p><strong>Note that the callback function is not executed immediately.</strong> It is “called back” (hence the name) at some specified point inside the containing function’s body. So, even though the first jQuery example looked like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//The anonymous function is not being executed there in the parameter. </span></span><br><span class="line"><span class="comment">//The item is a callback function</span></span><br><span class="line">$(<span class="string">"#btn_1"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"Btn 1 Clicked"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>the anonymous function will be called later inside the function body. <em>Even without a name, it can still be accessed later via the arguments object by the containing function.</em></p>
<p><strong>Callback Functions Are Closures</strong><br><em>When we pass a callback function as an argument to another function, the callback is executed at some point inside the containing function’s body just as if the callback were defined in the containing function.</em> This means the callback is a closure. Read my post, Understand JavaScript Closures With Ease for more on closures. As we know, <strong>closures have access to the containing function’s scope, so the callback function can access the containing functions’ variables, and even the variables from the global scope.</strong></p>
<p><strong>Basic Principles when Implementing Callback Functions</strong></p>
<p>While uncomplicated, callback functions have a few noteworthy principles we should be familiar with when implementing them.</p>
<p><strong>Use Named OR Anonymous Functions as Callbacks</strong><br>In the earlier jQuery and forEach examples, we used anonymous functions that were defined in the parameter of the containing function. That is one of the common patterns for using callback functions. Another popular pattern is to declare a named function and pass the name of that function to the parameter. Consider this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// global variable​</span></span><br><span class="line">​<span class="keyword">var</span> allUserData = [];</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// generic logStuff function that prints to console​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">logStuff</span> (<span class="params">userData</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> ( <span class="keyword">typeof</span> userData === <span class="string">"string"</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(userData);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> userData === <span class="string">"object"</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> userData) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(item + <span class="string">": "</span> + userData[item]);</span><br><span class="line">		&#125;</span><br><span class="line">​</span><br><span class="line">	&#125;</span><br><span class="line">​</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// A function that takes two parameters, the last one a callback function​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">getInput</span> (<span class="params">options, callback</span>) </span>&#123;</span><br><span class="line">	allUserData.push (options);</span><br><span class="line">	callback (options);</span><br><span class="line">​</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// When we call the getInput function, we pass logStuff as a parameter.​</span></span><br><span class="line">​<span class="comment">// So logStuff will be the function that will called back (or executed) inside the getInput function​</span></span><br><span class="line">getInput (&#123;name:<span class="string">"Rich"</span>, speciality:<span class="string">"JavaScript"</span>&#125;, logStuff);</span><br><span class="line">​<span class="comment">//  name: Rich​</span></span><br><span class="line">​<span class="comment">// speciality: JavaScript</span></span><br></pre></td></tr></table></figure>
<p><strong>Pass Parameters to Callback Functions</strong><br>Since the callback function is just a normal function when it is executed, we can pass parameters to it. We can pass any of the containing function’s properties (or global properties) as parameters to the callback function. In the preceding example, we pass options as a parameter to the callback function. Let’s pass a global variable and a local variable:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Global variable​</span></span><br><span class="line">​<span class="keyword">var</span> generalLastName = <span class="string">"Clinton"</span>;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">getInput</span> (<span class="params">options, callback</span>) </span>&#123;</span><br><span class="line">	allUserData.push (options);</span><br><span class="line">​<span class="comment">// Pass the global variable generalLastName to the callback function​</span></span><br><span class="line">	callback (generalLastName, options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Make Sure Callback is a Function Before Executing It</strong><br>It is always wise to check that the callback function passed in the parameter is indeed a function before calling it. Also, it is good practice to make the callback function optional.</p>
<p>Let’s <strong>refactor</strong> the getInput function from the previous example to ensure these checks are in place.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInput</span>(<span class="params">options, callback</span>) </span>&#123;</span><br><span class="line">	allUserData.push(options);</span><br><span class="line">​</span><br><span class="line">	<span class="comment">// Make sure the callback is a function​</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">"function"</span>) &#123;</span><br><span class="line">	<span class="comment">// Call it, since we have confirmed it is callable​</span></span><br><span class="line">		callback(options);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Without the check in place, if the getInput function is called either without the callback function as a parameter or in place of a function a non-function is passed, our code will result in a runtime error.</p>
<p><strong>Problem When Using Methods With The this Object as Callbacks</strong></p>
<p>When the callback function is a method that uses the this object, we have to modify how we execute the callback function to preserve the this object context. Or else the this object will either point to the global window object (in the browser), if callback was passed to a global function. Or it will point to the object of the containing method.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define an object with some properties and a method​</span></span><br><span class="line">​<span class="comment">// We will later pass the method as a callback function to another function​</span></span><br><span class="line">​<span class="keyword">var</span> clientData = &#123;</span><br><span class="line">	id: <span class="number">094545</span>,</span><br><span class="line">	fullName: <span class="string">"Not Set"</span>,</span><br><span class="line">	<span class="comment">// setUserName is a method on the clientData object​</span></span><br><span class="line">	setUserName: <span class="function"><span class="keyword">function</span> (<span class="params">firstName, lastName</span>)  </span>&#123;</span><br><span class="line">		<span class="comment">// this refers to the fullName property in this object​</span></span><br><span class="line">	  <span class="keyword">this</span>.fullName = firstName + <span class="string">" "</span> + lastName;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">getUserInput</span>(<span class="params">firstName, lastName, callback</span>)  </span>&#123;</span><br><span class="line">	<span class="comment">// Do other stuff to validate firstName/lastName here​</span></span><br><span class="line">​</span><br><span class="line">	<span class="comment">// Now save the names​</span></span><br><span class="line">	callback (firstName, lastName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>In the following code example, when clientData.setUserName is executed, this.fullName will not set the fullName property on the clientData object. Instead, it will set fullName on the window object, since getUserInput is a global function. This happens because the this object in the global function points to the window object.</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">getUserInput (<span class="string">"Barack"</span>, <span class="string">"Obama"</span>, clientData.setUserName);</span><br><span class="line">​</span><br><span class="line"><span class="built_in">console</span>.log (clientData.fullName);<span class="comment">// Not Set​</span></span><br><span class="line">​</span><br><span class="line">​<span class="comment">// The fullName property was initialized on the window object​</span></span><br><span class="line"><span class="built_in">console</span>.log (<span class="built_in">window</span>.fullName); <span class="comment">// Barack Obama</span></span><br></pre></td></tr></table></figure>
<p><strong>Use the Call or Apply Function To Preserve this</strong><br>We can fix the preceding problem <strong>by using the Call or Apply function</strong> (we will discuss these in a full blog post later). For now, know that every function in JavaScript has two methods: Call and Apply. And these methods are used to set the this object inside the function and to pass arguments to the functions.</p>
<p><strong>Call</strong> takes the value to be used <strong>as the this object</strong> inside the function as the <strong>first parameter</strong>, and the <strong>remaining arguments</strong> to be passed to the function are <strong>passed individually</strong> (<strong>separated by commas</strong> of course). The <strong>Apply</strong> function’s <strong>first parameter</strong> is also the value to be used as the <strong>this object</strong> inside the function, while the <strong>last parameter</strong> is an <strong>array of values</strong> (or the arguments object) to pass to the function.</p>
<p>This sounds complex, but lets see how easy it is to use Apply or Call. To fix the problem in the previous example, we will use the Apply function thus:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Note that we have added an extra parameter for the callback object, called "callbackObj"​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">getUserInput</span>(<span class="params">firstName, lastName, callback, callbackObj</span>)  </span>&#123;</span><br><span class="line">	<span class="comment">// Do other stuff to validate name here​</span></span><br><span class="line">​</span><br><span class="line">	<span class="comment">// The use of the Apply function below will set the this object to be callbackObj​</span></span><br><span class="line">	callback.apply (callbackObj, [firstName, lastName]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>With the <strong>Apply</strong> function setting the this object correctly, we can now correctly execute the callback and have it set the fullName property correctly on the clientData object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We pass the clientData.setUserName method and the clientData object as parameters. The clientData object will be used by the Apply function to set the this object​</span></span><br><span class="line"> getUserInput (<span class="string">"Barack"</span>, <span class="string">"Obama"</span>, clientData.setUserName, clientData);</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// the fullName property on the clientData was correctly set​</span></span><br><span class="line"><span class="built_in">console</span>.log (clientData.fullName); <span class="comment">// Barack Obama</span></span><br></pre></td></tr></table></figure>
<p>We would have also used the Call function, but in this case we used the Apply function.</p>
<p><strong>Multiple Callback Functions Allowed</strong><br>We can pass more than one callback functions into the parameter of a function, just like we can pass more than one variable. Here is a classic example with jQuery’s AJAX function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">successCallback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Do stuff before send​</span></span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">successCallback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Do stuff if success message received​</span></span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">completeCallback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Do stuff upon completion​</span></span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">errorCallback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Do stuff if error received​</span></span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">	url:<span class="string">"http://fiddle.jshell.net/favicon.png"</span>,</span><br><span class="line">	success:successCallback,</span><br><span class="line">	complete:completeCallback,</span><br><span class="line">	error:errorCallback</span><br><span class="line">​</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>“Callback Hell” Problem And Solution</strong></p>
<p>In asynchronous code execution, which is simply execution of code in any order, sometimes it is common to have numerous levels of callback functions to the extent that you have code that looks like the following. <strong>The messy code below is called callback hell because of the difficulty of following the code due to the many callbacks.</strong> I took this example from the node-mongodb-native, a MongoDB driver for Node.js. [2]. The example code below is just for demonstration:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p_client = <span class="keyword">new</span> Db(<span class="string">'integration_tests_20'</span>, <span class="keyword">new</span> Server(<span class="string">"127.0.0.1"</span>, <span class="number">27017</span>, &#123;&#125;), &#123;<span class="string">'pk'</span>:CustomPKFactory&#125;);</span><br><span class="line">p_client.open(<span class="function"><span class="keyword">function</span>(<span class="params">err, p_client</span>) </span>&#123;</span><br><span class="line">	p_client.dropDatabase(<span class="function"><span class="keyword">function</span>(<span class="params">err, done</span>) </span>&#123;</span><br><span class="line">		p_client.createCollection(<span class="string">'test_custom_key'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, collection</span>) </span>&#123;</span><br><span class="line">			collection.insert(&#123;<span class="string">'a'</span>:<span class="number">1</span>&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">				collection.find(&#123;<span class="string">'_id'</span>:<span class="keyword">new</span> ObjectID(<span class="string">"aaaaaaaaaaaa"</span>)&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, cursor</span>) </span>&#123;</span><br><span class="line">					cursor.toArray(<span class="function"><span class="keyword">function</span>(<span class="params">err, items</span>) </span>&#123;</span><br><span class="line">						test.assertEquals(<span class="number">1</span>, items.length);</span><br><span class="line">​</span><br><span class="line">						<span class="comment">// Let's close the db​</span></span><br><span class="line">						p_client.close();</span><br><span class="line">					&#125;);</span><br><span class="line">				&#125;);</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>You are not likely to encounter this problem often in your code, but when you do,and you will from time to time,here are two solutions to this problem. [3]</p>
<p>Name your functions and declare them and pass just the name of the function as the callback, instead of defining an anonymous function in the parameter of the main function.<br>Modularity: Separate your code into modules, so you can export a section of code that does a particular job. Then you can import that module into your larger application.</p>
<p>###Make Your Own Callback Functions<br>Now that you completely (I think you do; if not it is a quick reread :)) understand everything about JavaScript callback functions and you have seen that using callback functions are rather simple yet powerful, you should look at your own code for opportunities to use callback functions, for they will allow you to:</p>
<blockquote>
<ul>
<li>Do not repeat code (DRY—Do Not Repeat Yourself)</li>
<li>Implement better abstraction where you can have more generic functions that  are versatile (can handle all sorts of functionalities)</li>
<li>Have better maintainability</li>
<li>Have more readable code</li>
<li>Have more specialized functions.</li>
</ul>
</blockquote>
<p>It is rather easy to make your own callback functions. In the following example, I could have created one function to do all the work: retrieve the user data, create a generic poem with the data, and greet the user. This would have been a messy function with much if/else statements and, even still, it would have been very limited and incapable of carrying out other functionalities the application might need with the user data.</p>
<p>Instead, I left the implementation for added functionality up to the callback functions, so that the main function that retrieves the user data can perform virtually any task with the user data by simply passing the user’s full name and gender as parameters to the callback function and then executing the callback function.</p>
<p>In short, the getUserInput function is versatile: it can execute all sorts of callback functions with myriad of functionalities.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// First, setup the generic poem creator function; it will be the callback function in the getUserInput function below.​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">genericPoemMaker</span>(<span class="params">name, gender</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(name + <span class="string">" is finer than fine wine."</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Altruistic and noble for the modern time."</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Always admirably adorned with the latest style."</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"A "</span> + gender + <span class="string">" of unfortunate tragedies who still manages a perpetual smile"</span>);</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">//The callback, which is the last item in the parameter, will be our genericPoemMaker function we defined above.​</span></span><br><span class="line">​<span class="function"><span class="keyword">function</span> <span class="title">getUserInput</span>(<span class="params">firstName, lastName, gender, callback</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> fullName = firstName + <span class="string">" "</span> + lastName;</span><br><span class="line">​</span><br><span class="line">	<span class="comment">// Make sure the callback is a function​</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">"function"</span>) &#123;</span><br><span class="line">	<span class="comment">// Execute the callback function and pass the parameters to it​</span></span><br><span class="line">	callback(fullName, gender);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Call the getUserInput function and pass the genericPoemMaker function as a callback:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getUserInput(<span class="string">"Michael"</span>, <span class="string">"Fassbender"</span>, <span class="string">"Man"</span>, genericPoemMaker);</span><br><span class="line">​<span class="comment">// Output​</span></span><br><span class="line">​<span class="comment">/* Michael Fassbender is finer than fine wine.</span><br><span class="line">Altruistic and noble for the modern time.</span><br><span class="line">Always admirably adorned with the latest style.</span><br><span class="line">A Man of unfortunate tragedies who still manages a perpetual smile.</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<p>Because the getUserInput function is only handling the retrieving of data, we can pass any callback to it. For example, we can pass a greetUser function like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greetUser</span>(<span class="params">customerName, sex</span>)  </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> salutation  = sex &amp;&amp; sex === <span class="string">"Man"</span> ? <span class="string">"Mr."</span> : <span class="string">"Ms."</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Hello, "</span> + salutation + <span class="string">" "</span> + customerName);</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// Pass the greetUser function as a callback to getUserInput​</span></span><br><span class="line">​getUserInput(<span class="string">"Bill"</span>, <span class="string">"Gates"</span>, <span class="string">"Man"</span>, greetUser);</span><br><span class="line">​</span><br><span class="line">​<span class="comment">// And this is the output​</span></span><br><span class="line">Hello, Mr. Bill Gates</span><br></pre></td></tr></table></figure>
<p>We called the same getUserInput function as we did before, but this time it performed a completely different task.</p>
<p>Note the following ways we frequently use callback functions in JavaScript:</p>
<ol>
<li>For asynchronous execution (such as reading files, and making HTTP requests)</li>
<li>In Event Listeners/Handlers</li>
<li>In setTimeout and setInterval methods</li>
<li>For Generalization: code conciseness</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Sabrina Jiang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65874278-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>